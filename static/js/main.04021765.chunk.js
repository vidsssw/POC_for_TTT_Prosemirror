(this.webpackJsonpprosemirror_poc=this.webpackJsonpprosemirror_poc||[]).push([[0],{212:function(e,t,n){"use strict";n.r(t);var o=n(81),r=n(82),i=n(27),s=(n(0),n(34),n(96),n(97),n(98),n(90),n(60),n(23)),a=(n(58),n(1));n(9),n(57);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(89),c=n(2),u=n(22),d=n(57),m=d.exampleSetup,p=d.buildMenuItems,h=n(5).MenuItem,g={inline:!0,attrs:{src:{},width:{default:"10em"},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{priority:51,tag:"img[src][width]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t={style:"width: ".concat(e.attrs.width)};return["span",Object(i.a)(Object(i.a)({},e.attrs),t)]}},v=new a.i({nodes:Object(i.a)(Object(i.a)({},s.a),{},{resizableImage:g}),marks:s.b.spec.marks});var f=function(){function e(t,n,r){Object(o.a)(this,e);var i=document.createElement("span");i.style.position="relative",i.style.width=t.attrs.width,i.style.display="inline-block",i.style.lineHeight="0";var s=document.createElement("img");s.setAttribute("src",t.attrs.src),s.style.width="100%";var a=document.createElement("span");a.style.position="absolute",a.style.bottom="0px",a.style.right="0px",a.style.width="10px",a.style.height="10px",a.style.border="3px solid black",a.style.borderTop="none",a.style.borderLeft="none",a.style.display="none",a.style.cursor="nwse-resize",a.onmousedown=function(e){e.preventDefault();var o=e.pageX,s=(e.pageY,parseFloat(getComputedStyle(i).fontSize)),a=parseFloat(t.attrs.width.match(/(.+)em/)[1]),l=function(e){var t=e.pageX,n=(e.pageY,(t-o)/s);i.style.width="".concat(a+n,"em")};document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function e(o){o.preventDefault(),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e);var s=r(),a=n.state.tr.setNodeMarkup(r(),null,{src:t.attrs.src,width:i.style.width}),u=a.doc.resolve(s),d=new c.NodeSelection(u);a=a.setSelection(d),n.dispatch(a)}))},i.appendChild(a),i.appendChild(s),this.dom=i,this.img=s,this.handle=a}return Object(r.a)(e,[{key:"selectNode",value:function(){this.img.classList.add("ProseMirror-selectednode"),this.handle.style.display=""}},{key:"deselectNode",value:function(){this.img.classList.remove("ProseMirror-selectednode"),this.handle.style.display="none"}}]),e}();var b=function(e){var t=function(e,t){var n=e.selection&&e.selection.node&&e.selection.node.type.name;if("image"===n||"resizableImage"===n){if(t){var o="image"===n?v.nodes.resizableImage:v.nodes.image;t(e.tr.replaceSelectionWith(o.create({src:e.selection.node.attrs.src})))}return!0}return!1},n={run:t,enable:function(e,n){return t(e,n)},active:function(e,t){return"resizableImage"===(e.selection&&e.selection.node&&e.selection.node.type.name)}};for(var o in e)n[o]=e[o];return new h(n)}({label:"resizable"}),y=p(v);y.blockMenu[0].push(b);var w=m({schema:v,menuContent:y.fullMenu}),k=new u.EditorView(document.querySelector("#root"),{state:c.EditorState.create({schema:v,plugins:w}),nodeViews:{resizableImage:function(e,t,n){return new f(e,t,n)}}});Object(l.a)(k),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,n){},91:function(e,t,n){e.exports=n(212)},96:function(e,t,n){},97:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},98:function(e,t,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.04021765.chunk.js.map